{
  "metaData": {
    "name": "quickstart.checkouts_external.checkouts_query",
    "team": "quickstart",
    "outputNamespace": "data",
    "sourceFile": "staging_queries/quickstart/checkouts_external.py",
    "customJson": "{\"airflow_dependencies\": [{\"name\": \"wf_data_purchases\", \"spec\": \"data.purchases/ds={{ ds }}\"}, {\"name\": \"wf_data_checkouts_external\", \"spec\": \"data.checkouts_external/ds={{ ds }}\"}]}",
    "executionInfo": {
      "env": {
        "common": {
          "VERSION": "latest",
          "SERDE_CLASS": "your.serde.class",
          "SERDE_ARGS": "-Zkey1=<value1> -Zkey2=<value2>",
          "PARTITION_COLUMN": "ds",
          "PARTITION_FORMAT": "yyyy-MM-dd",
          "CUSTOMER_ID": "canary",
          "GCP_PROJECT_ID": "canary-443022",
          "GCP_REGION": "us-central1",
          "GCP_DATAPROC_CLUSTER_NAME": "canary-2",
          "GCP_BIGTABLE_INSTANCE_ID": "zipline-canary-instance"
        },
        "modeEnvironments": {
          "backfill": {
            "VERSION": "latest",
            "SERDE_CLASS": "your.serde.class",
            "SERDE_ARGS": "-Zkey1=<value1> -Zkey2=<value2>",
            "PARTITION_COLUMN": "ds",
            "PARTITION_FORMAT": "yyyy-MM-dd",
            "CUSTOMER_ID": "canary",
            "GCP_PROJECT_ID": "canary-443022",
            "GCP_REGION": "us-central1",
            "GCP_DATAPROC_CLUSTER_NAME": "canary-2",
            "GCP_BIGTABLE_INSTANCE_ID": "zipline-canary-instance",
            "EXECUTOR_CORES": "2",
            "DRIVER_MEMORY": "15G",
            "EXECUTOR_MEMORY": "4G",
            "PARALLELISM": "4",
            "MAX_EXECUTORS": "4"
          },
          "upload": {
            "VERSION": "latest",
            "SERDE_CLASS": "your.serde.class",
            "SERDE_ARGS": "-Zkey1=<value1> -Zkey2=<value2>",
            "PARTITION_COLUMN": "ds",
            "PARTITION_FORMAT": "yyyy-MM-dd",
            "CUSTOMER_ID": "canary",
            "GCP_PROJECT_ID": "canary-443022",
            "GCP_REGION": "us-central1",
            "GCP_DATAPROC_CLUSTER_NAME": "canary-2",
            "GCP_BIGTABLE_INSTANCE_ID": "zipline-canary-instance",
            "PARALLELISM": "2",
            "MAX_EXECUTORS": "4"
          },
          "streaming": {
            "VERSION": "latest",
            "SERDE_CLASS": "your.serde.class",
            "SERDE_ARGS": "-Zkey1=<value1> -Zkey2=<value2>",
            "PARTITION_COLUMN": "ds",
            "PARTITION_FORMAT": "yyyy-MM-dd",
            "CUSTOMER_ID": "canary",
            "GCP_PROJECT_ID": "canary-443022",
            "GCP_REGION": "us-central1",
            "GCP_DATAPROC_CLUSTER_NAME": "canary-2",
            "GCP_BIGTABLE_INSTANCE_ID": "zipline-canary-instance",
            "EXECUTOR_CORES": "2",
            "EXECUTOR_MEMORY": "4G",
            "PARTITIONS_PER_EXECUTOR": "2"
          }
        }
      },
      "conf": {
        "common": {
          "spark.chronon.partition.column": "_DATE"
        }
      },
      "scheduleCron": "@daily"
    }
  },
  "query": "\n    SELECT\n        purchases.ds,\n        purchases.ts as purchase_ts,\n        purchases.user_id,\n        purchases.purchase_price,\n        checkouts.return_id,\n        checkouts.refund_amt,\n        checkouts.product_id,\n        checkouts.ts as checkout_ts\n    FROM data.purchases AS purchases \n    LEFT OUTER JOIN data.checkouts_external AS checkouts\n    USING (user_id)\n    WHERE purchases.ds BETWEEN '{{ start_date }}' AND '{{ end_date }}'\n",
  "startPartition": "2023-10-31"
}